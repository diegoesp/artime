<div class="row">
	<div class="col-md-9">
		<div class="content-panel mt" style="min-height: 460px">
			<h4 style="padding-left: 10px">Week time for: <strong><%= CresponApp.session().name %></strong></h4>
			<div style="padding:10px">

				<table class="table table-striped">
					<thead>
						<tr>
							<th>Task</th>
							<th class="col-md-1">Sun</th>
							<th class="col-md-1">Mon</th>
							<th class="col-md-1">Tue</th>
							<th class="col-md-1">Wed</th>
							<th class="col-md-1">Thu</th>
							<th class="col-md-1">Fri</th>
							<th class="col-md-1">Sa</th>
							<th class="col-md-1">Totals</th>
						</tr>
					</thead>
					<tbody>
					<%
					  var color_index = 0
						for(var i = 0; i < projectTaskInputsCollection.length; i++) 
						{
							var projectTaskInput = projectTaskInputsCollection.models[i];

							// List of colors to differentiate projects
  						var colors = ["#0099FF","#33CC33", "#F7464A", "#949FB1","#990033", "#666699", "#FFFFFF", "#003366", "#000000"];

  						// Switch to next color if needed
							if (i > 0)
							{
								var previousProjectTaskInput = projectTaskInputsCollection.models[i - 1]
								if (projectTaskInput.attributes.project_name !== previousProjectTaskInput.attributes.project_name)
								{
									color_index++;
									if (color_index > colors.length) color_index = 0;
								}								
							}
							var color = colors[color_index];
							%>
							<tr>
								<td>
									<i class="fa fa-square fa-fw" style="color: <%= color %>"></i>
									<strong><%= projectTaskInput.attributes.project_name %></strong> Â·
									<%= projectTaskInput.attributes.task_name %>
								</td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="0" class="form-control input-hours" value="<%= projectTaskInput.attributes.sun %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="1" class="form-control input-hours" value="<%= projectTaskInput.attributes.mon %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="2" class="form-control input-hours" value="<%= projectTaskInput.attributes.tue %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="3" class="form-control input-hours" value="<%= projectTaskInput.attributes.wed %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="4" class="form-control input-hours" value="<%= projectTaskInput.attributes.thu %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="5" class="form-control input-hours" value="<%= projectTaskInput.attributes.fri %>"/></td>
								<td><input type="text" data-line="<%= i %>" data-project-task-id="<%= projectTaskInput.attributes.project_task_id %>" data-weekday="6" class="form-control input-hours" value="<%= projectTaskInput.attributes.sat %>"/></td>
								<td data-line="<%= i %>" class="task-total">TBC</td>
							</tr>
							<%
						} 
						%>	
						<tr>			
							<td class="day-total">Totals</td>
							<%					
							for (var i = 0; i < 7; i++)
							{ 
								%>
								<td data-weekday="<%= i %>" class="day-total">TBC</td>
								<% 					
							} 
						%>	
							<td class="week-total">TBC</td>				
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</div>

	<div class="col-lg-3">
		<div class="green-panel mt pn" style="margin-bottom: 10px">
			<div class="green-header">
				<h5>Week range</h5>
			</div>
			<h2><p><%= current_moment.format("DD MMM") %> to <%= current_moment.clone().add("day", 6).format("DD MMM") %></p></h2>
			<div style="padding-bottom:10px">
				<div class="btn-group">
				  <button type="button" id="previous_week" class="btn btn-theme04">Prev</button>
				  <button type="button" id="this_week" class="btn btn-theme04">This week</button>
				  <button type="button" id="next_week" class="btn btn-theme04">Next</button>
				</div>
			</div>
		</div>
		<div class="darkblue-panel pn" style="margin-bottom: 10px">
			<div class="darkblue-header" style="margin-bottom:0px">
				<h5>How is your input ?</h5>
				<div id="inputDiv" style="color:white; margin-top: 15px; margin-bottom: 15px; margin-left: 15px; margin-right: 20px">
					
				</div>
			</div>
			<div></div>
		</div>
		<div class="darkblue-panel pn">
			<div class="darkblue-header" style="margin-bottom:0px">
				<h5>Billable hours %</h5>
			</div>
			<canvas id="billablechart" height="100" width="100"></canvas>
		</div>
	</div>
</div>

<style>
.input-hours {
	text-align: right;
}
.day-total, .week-total, .task-total {
	font-size: 16px;
	font-weight: 700;
	text-align: right;
}
.pn {
	height: auto;
}
th {
	text-align: center;
}
</style>